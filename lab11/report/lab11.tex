\include{settings}

\begin{document}

\include{titlepage}

\tableofcontents
\listoftables
\listoffigures
\newpage

\section{Техническое задание}

Задана замкнутая сеть массового обслуживания, включающая $M = 4$ узла. В сети циркулирует $N$ заявок в соответствии с матрицей передач, также заданы описания узлов как систем массового обслуживания (число каналов, интенсивность обслуживания). Необходимо:
\begin{enumerate}
	\item Построить граф сети;
	\item Определить среднее число требований, среднее число ожидающих требований, среднее время пребывания и среднее время ожидания для каждого узла;
	\item Результаты оформить в итоговой таблице
\end{enumerate}

\section{Исходные данные}

\paragraph{Вариант 32}

\begin{itemize}
	\item $N = 4$
	\item Матрица передач:
	\begin{displaymath}
		\Pi = \begin{pmatrix}
			0 & 1 & 0 & 0 & 0 \\
			\sfrac{3}{4} & 0 & 0 & \sfrac{1}{4} & 0 \\
			0 & 0 & 0 & 0 & 1 \\
			0 & \sfrac{9}{17} & \sfrac{8}{17} & 0 & 0 \\
			0 & \sfrac{9}{14} & 0 & \sfrac{5}{14} & 0
		\end{pmatrix}
	\end{displaymath}
	\item 1 узел: система $M/M/2$, $\mu = 10$
	\item 2 узел: система $M/M/1$, $\mu = 3$
	\item 3 узел: система $M/M/2$, $\mu = 7$
	\item 4 узел: система $M/M/2$, $\mu = 7$
\end{itemize}

\newpage

\section{Замкнутая сеть массового обслуживания}

\subsection{Граф сети}

На рис. \ref{fig:net_graph} изображен граф сети массового обслуживания, составленный по матрице передач $\Pi$.
\vspace{-0.5cm}
\begin{figure}[H]
	\begin{center}
		\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3.5cm,
		semithick]
		\tikzstyle{every state}=[fill=white,draw=black,text=black]
		
		\node[state] (0) {$0$};
		\node[state] (1) [right of=0] {$1$};
		\node[state] (3) [right of=1] {$3$};
		\node[state] (2) [above of=3] {$2$};
		\node[state] (4) [above of=1] {$4$};
		
		\path 
		(0) edge [bend left] node {$ $} (1)
		(1) edge [bend left] node {$\sfrac{3}{4}$} (0)
		(1) edge [bend left] node {$\sfrac{1}{4}$} (3)
		(3) edge [bend left] node {$\sfrac{9}{17}$} (1)
		(3) edge [right] node {$\sfrac{8}{17}$} (2)
		(2) edge node {$ $} (4)
		(4) edge [left] node {$\sfrac{9}{14}$} (1)
		(4) edge node {$\sfrac{5}{14}$} (3);
		\end{tikzpicture}
		\caption{Граф сети}
		\label{fig:net_graph}
	\end{center}
\end{figure}
\vspace{-1cm}

\subsection{Расчет узлов}

Найдем коэффициенты передачи $\alpha_i = \sfrac{\lambda_i}{\lambda_0}$:
\begin{displaymath}
	\begin{cases}
		\lambda_0 = \sfrac{3}{4} \lambda_1 \\
		\lambda_1 = \lambda_0 + \sfrac{9}{17} \lambda_3 + \sfrac{9}{14} \lambda_4 \\
		\lambda_2 = \sfrac{8}{17} \lambda_3 \\
		\lambda_3 = \sfrac{1}{4} \lambda_1 + \sfrac{5}{14} \lambda_4 \\
		\lambda_4 = \lambda_2
	\end{cases} \Leftrightarrow \begin{cases}
		\lambda_1 = \sfrac{4}{3} \lambda_0 \\
		\lambda_2 = \sfrac{56}{297} \lambda_0 \\
		\lambda_3 = \sfrac{119}{297} \lambda_0 \\
		\lambda_4 = \sfrac{56}{297} \lambda_0
	\end{cases} \Rightarrow \begin{cases}
		\alpha_1 = \sfrac{4}{3} \approx 1.33 \\
		\alpha_2 = \sfrac{56}{297} \approx 0.19 \\
		\alpha_3 = \sfrac{119}{297} \approx 0.40 \\
		\alpha_4 = \sfrac{56}{297} \approx 0.19
	\end{cases}
\end{displaymath}

Сумма $\sum_{i=1}^{4} \alpha_i \approx 2.11$. Обозначим $\omega_j$, $j = \overline{1,M}$ как вероятность поступления в $j$-й узел некоторого помеченного требования при его очередном переходе из узла в узел замкнутой сети, тогда:
\begin{displaymath}
	\omega_j = \frac{\alpha_j}{\sum \limits_{i=1}^{M} \alpha_i} \Rightarrow
	\begin{cases}
		\alpha_j = \sum \limits_{i=1}^{M} \alpha_i \cdot P_{ij},\ j = \overline{1,M} \\
		\alpha_1 = 1
	\end{cases} \Leftrightarrow \begin{cases}
		\omega_j = \sum \limits_{i=1}^{M} \omega_i \cdot P_{ij},\ j = \overline{1,M} \\
		\sum \limits_{i=1}^{M} \omega_j = 1
	\end{cases}
\end{displaymath}

\begin{displaymath}
	\begin{cases}
		\alpha_1 \approx 1.33 \\
		\alpha_2 \approx 0.19 \\
		\alpha_3 \approx 0.40 \\
		\alpha_4 \approx 0.19
	\end{cases} \Leftrightarrow \begin{cases}
		\omega_1 \approx 0.63 \\
		\omega_2 \approx 0.09 \\
		\omega_3 \approx 0.19 \\
		\omega_4 \approx 0.09
	\end{cases}
\end{displaymath}

\subsection{Возможные состояния сети}

Количество возможных состояний равно $C_{N+M-1}^{N} = C_{7}^{4} = 35$. Перечислим все состояния:
\begin{displaymath}
	\begin{split}
	S(4, 4) = \{ 
	&4000, 3100, 3010, 3001, 2200, 2110, 2101, 2020, 2011, 2002 \\ 
	&1300, 1210, 1201, 1120, 1111, 1102, 1030, 1021, 1012, 1003, \\ 
	&0400, 0310, 0301, 0220, 0211, 0202, 0130, 0121, 0112, 0103, \\ 
	&0040, 0031, 0022, 0013, 0004 \}
	\end{split}
\end{displaymath}


\subsection{Результаты}

\begin{table}[H]
	\begin{center}
		\caption{Результаты}
		\label{tab:results}
		\def\tabcolsep{8pt}
		\begin{tabular}{|C{6cm}|c|c|c|c|c|}
			\hline
			& 1 узел & 2 узел & 3 узел & 4 узел & Вся сеть \\
			\hline
			Ср. число требований $\overline{n}$ &  &  &  &  & \\
			\hline
			Ср. число ожидающих требований $\overline{l}$ &  &  &  &  & \\
			\hline
			Ср. время пребывания $\overline{t_\text{с}}$ &  &  &  &  & \\
			\hline
			Ср. время ожидания $\overline{t_\text{ож}}$ &  &  &  &  & \\
			\hline	
		\end{tabular}
	\end{center}
\end{table}

\end{document}