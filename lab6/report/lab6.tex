\include{settings}

\begin{document}

\include{titlepage}

\tableofcontents
\listoffigures
%\listoftables
\newpage

\section{Техническое задание}

Решить задачу коммивояжера методом ветвей и границ в соответствии с матрицей по вариантам.  

Задача коммивояжера: имеется $n$ городов, задана матрица расстояний между городами. Коммивояжер должен побывать в каждом городе только один раз и вернуться в начальный город. Требуется найти маршрут, имеющий минимальную длину.

\section{Исходные данные}

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:1}
	\begin{tabular}{|c||c|c|c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $3$ & $4$ & $5$ & $6$ \\
		\hhline{|=#=|=|=|=|=|=|}
		$1$ & $\infty$ & $14$ & $19$ & $10$ & $19$ & $17$ \\
		\hline
		$2$ & $11$ & $\infty$ & $33$ & $8$ & $25$ & $31$ \\
		\hline
		$3$ & $16$ & $24$ & $\infty$ & $28$ & $8$ & $10$ \\ 
		\hline
		$4$ & $8$ & $7$ & $23$ & $\infty$ & $21$ & $26$ \\
		\hline
		$5$ & $15$ & $20$ & $7$ & $21$ & $\infty$ & $16$ \\
		\hline
		$6$ & $12$ & $22$ & $7$ & $19$ & $12$ & $\infty$ \\ 
		\hline
	\end{tabular}
\end{center}
\end{table} 

\section{Решение методом ветвей и границ}

\textbf{1.} Найдем минимум в каждой строки исходной таблицы \ref{tab:1}.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:2}
	\begin{tabular}{|c||c|c|c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $3$ & $4$ & $5$ & $6$ & $\min$ \\
		\hhline{|=#=|=|=|=|=|=#=|}
		$1$ & $\infty$ & $14$ & $19$ & $10$ & $19$ & $17$ & $10$ \\
		\hline
		$2$ & $11$ & $\infty$ & $33$ & $8$ & $25$ & $31$ & $8$ \\
		\hline
		$3$ & $16$ & $24$ & $\infty$ & $28$ & $8$ & $10$ & $8$ \\ 
		\hline
		$4$ & $8$ & $7$ & $23$ & $\infty$ & $21$ & $26$ & $7$ \\
		\hline
		$5$ & $15$ & $20$ & $7$ & $21$ & $\infty$ & $16$ & $7$ \\
		\hline
		$6$ & $12$ & $22$ & $7$ & $19$ & $12$ & $\infty$ & $7$ \\ 
		\hline
	\end{tabular}
\end{center}
\end{table} 

Вычтем найденные минимумы из каждой строки.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:3}
	\begin{tabular}{|c||c|c|c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $3$ & $4$ & $5$ & $6$ \\
		\hhline{|=#=|=|=|=|=|=|}
		$1$ & $\infty$ & $4$ & $9$ & $0$ & $9$ & $7$ \\
		\hline
		$2$ & $3$ & $\infty$ & $25$ & $0$ & $17$ & $23$ \\
		\hline
		$3$ & $8$ & $16$ & $\infty$ & $20$ & $0$ & $2$ \\ 
		\hline
		$4$ & $1$ & $0$ & $16$ & $\infty$ & $14$ & $19$ \\
		\hline
		$5$ & $8$ & $13$ & $0$ & $14$ & $\infty$ & $9$ \\
		\hline
		$6$ & $5$ & $15$ & $0$ & $12$ & $5$ & $\infty$ \\ 
		\hhline{|=#=|=|=|=|=|=|}
		$\min$ & $1$ & $0$ & $0$ & $0$ & $0$ & $2$ \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Из тех столбцов, в которых не оказалось нулей, вычтем минимальный элемент.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:4}
	\begin{tabular}{|c||c|c|c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $3$ & $4$ & $5$ & $6$ \\
		\hhline{|=#=|=|=|=|=|=|}
		$1$ & $\infty$ & $4$ & $9$ & $0$ & $9$ & $5$ \\
		\hline
		$2$ & $2$ & $\infty$ & $25$ & $0$ & $17$ & $21$ \\
		\hline
		$3$ & $7$ & $16$ & $\infty$ & $20$ & $0$ & $0$ \\ 
		\hline
		$4$ & $0$ & $0$ & $16$ & $\infty$ & $14$ & $17$ \\
		\hline
		$5$ & $7$ & $13$ & $0$ & $14$ & $\infty$ & $7$ \\
		\hline
		$6$ & $4$ & $15$ & $0$ & $12$ & $5$ & $\infty$ \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Сумма элементов, которые мы вычитали, равняется $50$. Следовательно оптимальный путь не может быть меньше $50$:
\begin{equation*}
	h = 50,\ V(H) = h = 50
\end{equation*}

\textbf{2.} Заменим в таблице \ref{tab:4} нули на сумму минимального элемента строки и минимального элемента столбца.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:5}
	\begin{tabular}{|c||c|c|c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $3$ & $4$ & $5$ & $6$ \\
		\hhline{|=#=|=|=|=|=|=|}
		$1$ & $-$ & $-$ & $-$ & $4$ & $-$ & $-$ \\
		\hline
		$2$ & $-$ & $-$ & $-$ & $2$ & $-$ & $-$ \\
		\hline
		$3$ & $-$ & $-$ & $-$ & $-$ & $5$ & $5$ \\ 
		\hline
		$4$ & $2$ & $4$ & $-$ & $-$ & $-$ & $-$ \\
		\hline
		$5$ & $-$ & $-$ & \textcolor{red}{\boldmath$7$} & $-$ & $-$ & $-$ \\
		\hline
		$6$ & $-$ & $-$ & $4$ & $-$ & $-$ & $-$ \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

\begin{gather*}
\max = 7\ (5 \rightarrow 3) \\
G^{(0)} = G_{5,3}^{(0)} \cup G_{\overline{5,3}}^{(0)} \\
V(G_{\overline{5,3}}^{(0)}) = V(H) + 7 = 50 + 7 = 57
\end{gather*}

Вычеркнем из таблицы  \ref{tab:4} строку $5$ и столбец $3$, при этом запретим путь $3 \rightarrow 5$. Найдем минимумы для каждого столбца и каждой строки.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:6}
	\begin{tabular}{|c||c|c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $4$ & $5$ & $6$ & $\min$ \\
		\hhline{|=#=|=|=|=|=|=|}
		$1$ & $\infty$ & $4$ & $0$ & $9$ & $5$ & $0$ \\
		\hline
		$2$ & $2$ & $\infty$ & $0$ & $17$ & $21$ & $0$ \\
		\hline
		$3$ & $7$ & $16$ & $20$ & $\infty$ & $0$ & $0$ \\ 
		\hline
		$4$ & $0$ & $0$ & $\infty$ & $14$ & $17$ & $0$ \\
		\hline
		$6$ & $4$ & $15$ & $12$ & $5$ & $\infty$ & $4$ \\
		\hline
	\end{tabular}
\end{center}
\end{table}

Вычтем из строки $6$ минимальный элемент, равный $4$, т.к. она не содержит ноль. В полученной таблице столбец $5$ так же не содержит ноль, поэтому вычтем и из него наименьший элемент, равный $5-4 = 1$.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:7}
	\begin{tabular}{|c||c|c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $4$ & $5$ & $6$ & $\min$ \\
		\hhline{|=#=|=|=|=|=|=|}
		$1$ & $\infty$ & $4$ & $0$ & $8$ & $5$ & $0$ \\
		\hline
		$2$ & $2$ & $\infty$ & $0$ & $16$ & $21$ & $0$ \\
		\hline
		$3$ & $7$ & $16$ & $20$ & $\infty$ & $0$ & $0$ \\ 
		\hline
		$4$ & $0$ & $0$ & $\infty$ & $13$ & $17$ & $0$ \\
		\hline
		$6$ & $0$ & $11$ & $8$ & $0$ & $\infty$ & $4$ \\
		\hhline{|=#=|=|=|=|=|=|} 
		$\min$ & $0$ & $0$ & $0$ & $1$ & $0$ & \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Сумма вычитаемых элементов равна $5$, следовательно:
\begin{equation*}
V(G_{5,3}^{(0)}) = V(H) + 5 = 50 + 5 = 55 < 57 = V(G_{\overline{5,3}}^{(0)}) \Rightarrow V(G^{(0)}) = 55
\end{equation*}

\textbf{3.} Заменим в таблице \ref{tab:7} нули на сумму минимального элемента строки и минимального элемента столбца.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:8}
	\begin{tabular}{|c||c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $4$ & $5$ & $6$ \\
		\hhline{|=#=|=|=|=|=|}
		$1$ & $-$ & $-$ & $4$ & $-$ & $-$ \\
		\hline
		$2$ & $-$ & $-$ & $2$ & $-$ & $-$ \\
		\hline
		$3$ & $-$ & $-$ & $-$ & $-$ & \textcolor{red}{\boldmath$12$} \\ 
		\hline
		$4$ & $0$ & $4$ & $-$ & $-$ & $-$ \\
		\hline
		$6$ & $0$ & $-$ & $-$ & $8$ & $-$ \\
		\hline
	\end{tabular}
\end{center}
\end{table}

\begin{gather*}
\max = 12\ (3 \rightarrow 6) \\
G^{(1)} = G_{3,6}^{(1)} \cup G_{\overline{3,6}}^{(1)} \\
V(G_{\overline{3,6}}^{(1)}) = V(G^{(0)}) + 12 = 55 + 12 = 67
\end{gather*}

Вычеркнем из таблицы $3$ строку и $6$ столбец, при этом запретим путь $6 \rightarrow 3$. Найдем минимумы для каждого столбца и каждой строки.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:9}
	\begin{tabular}{|c||c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $4$ & $5$ & $\min$ \\
		\hhline{|=#=|=|=|=|=|}
		$1$ & $\infty$ & $4$ & $0$ & $8$ & $0$ \\
		\hline
		$2$ & $2$ & $\infty$ & $0$ & $16$ & $0$ \\
		\hline
		$4$ & $0$ & $0$ & $\infty$ & $13$ & $0$ \\
		\hline
		$6$ & $0$ & $11$ & $8$ & $0$ & $0$ \\
		\hhline{|=#=|=|=|=|=|}
		$\min$ & $0$ & $0$ & $0$ & $0$ & \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Сумма вычитаемых элементов равна $0$, следовательно:
\begin{equation*}
V(G_{3,6}^{(1)}) = V(G^{(0)}) + 0 = 55 < 67 = V(G_{\overline{3,6}}^{(1)}) \Rightarrow V(G^{(1)}) = 55
\end{equation*}

\textbf{4.} Заменим в таблице \ref{tab:9} нули на сумму минимального элемента строки и минимального элемента столбца. При этом запретим переход $6 \rightarrow 5$.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:10}
	\begin{tabular}{|c||c|c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$ & $4$ & $5$ \\
		\hhline{|=#=|=|=|=|}
		$1$ & $-$ & $-$ & \textcolor{red}{\boldmath$4$} & $-$ \\
		\hline
		$2$ & $-$ & $-$ & $2$ & $-$ \\
		\hline
		$4$ & $0$ & \textcolor{red}{\boldmath$4$} & $-$ & $-$ \\
		\hline
		$6$ & $0$ & $-$ & $-$ & $-$ \\
		\hline
	\end{tabular}
\end{center}
\end{table}

В таблице находится несколько максимумов, поэтому по очереди рассмотрим каждый из возможных путей. \\

\textbf{4.1.} Первый максимум:
\begin{gather*}
\max = 4\ (4 \rightarrow 2) \\
G^{(2)_1} = G_{4,2}^{(2)_1} \cup G_{\overline{4,2}}^{(2)_1} \\
V(G_{\overline{4,2}}^{(2)_1}) = V(G^{(1)}) + 4 = 55 + 4 = 59
\end{gather*}

Вычеркнем из таблицы \ref{tab:9} строку $4$ и столбец $2$, при этом запретим переход $2 \rightarrow 4$. Найдем минимумы для каждого столбца и каждой строки.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:11}
	\begin{tabular}{|c||c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $4$ & $5$ & $\min$ \\
		\hhline{|=#=|=|=|=|}
		$1$ & $\infty$ & $0$ & $8$ & $0$ \\
		\hline
		$2$ & $2$ & $\infty$ & $16$ & $2$ \\
		\hline
		$6$ & $0$ & $8$ & $0$ & $0$ \\
		\hhline{|=#=|=|=|=|}
		$\min$ & $0$ & $0$ & $0$ & \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Вычтем из строки $2$ минимальный элемент, равный $2$, т.к. она не содержит ноль.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:12}
	\begin{tabular}{|c||c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $4$ & $5$ & $\min$ \\
		\hhline{|=#=|=|=|=|}
		$1$ & $\infty$ & $0$ & $8$ & $0$ \\
		\hline
		$2$ & $0$ & $\infty$ & $14$ & $2$ \\
		\hline
		$6$ & $0$ & $8$ & $0$ & $0$ \\
		\hhline{|=#=|=|=|=|}
		$\min$ & $0$ & $0$ & $0$ & \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Сумма вычитаемых элементов равна $2$, следовательно:
\begin{equation*}
V(G_{2,4}^{(2)_1}) = V(G^{(1)}) + 2 = 57 < 59 = V(G_{\overline{6,5}}^{(2)_1}) \Rightarrow V(G^{(2)_1}) = 57
\end{equation*}

\textbf{5.1.} Заменим в таблице \ref{tab:12} нули на сумму минимального элемента строки и минимального элемента столбца. При этом запретим пути $2 \rightarrow 1$ и $6 \rightarrow 5$.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:13}
	\begin{tabular}{|c||c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $4$ & $5$ \\
		\hhline{|=#=|=|=|=|}
		$1$ & $-$ & \textcolor{red}{\boldmath$8$} & $-$ \\
		\hline
		$2$ & $-$ & $-$ & $-$ \\
		\hline
		$6$ & $2$ & $-$ & $-$ \\
		\hline
	\end{tabular}
\end{center}
\end{table}

\begin{gather*}
\max = 8\ (1 \rightarrow 4) \\
G^{(3)_1} = G_{1,4}^{(3)_1} \cup G_{\overline{1,4}}^{(3)_1} \\
V(G_{\overline{1,4}}^{(3)_1}) = V(G^{(2)_1}) + 8 = 55 + 8 = 63
\end{gather*}

Вычеркнем из таблицы \ref{tab:12} строку $1$ и столбец $4$. Найдем минимумы для каждого столбца и каждой строки.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:14}
	\begin{tabular}{|c||c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $5$ & $\min$ \\
		\hhline{|=#=|=|=|}
		$2$ & $0$ & $14$ & $0$ \\
		\hline
		$6$ & $0$ &$0$ & $0$ \\
		\hhline{|=#=|=|=|}
		$\min$ & $0$ & $0$ & \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Сумма вычитаемых элементов равна $0$, следовательно:
\begin{equation*}
V(G_{1,4}^{(3)_1}) = V(G^{(2)_1}) + 0 = 57 < 63 = V(G_{\overline{1,4}}^{(3)_1}) \Rightarrow V(G^{(3)_1}) = 57
\end{equation*}

\textbf{6.1.} Запретим пути $2 \rightarrow 1$ и $6 \rightarrow 5$, тогда остаются только два не запрещенных пути: $2 \rightarrow 5$ и $6 \rightarrow 1$ общей стоимостью $14$. Общая стоимость пути равна $71$. \\

\textbf{4.2.} Второй максимум:
\begin{gather*}
\max(2) = 4\ (1 \rightarrow 4) \\
G^{(2)_2} = G_{1,4}^{(2)_2} \cup G_{\overline{1,4}}^{(2)_2} \\
V(G_{\overline{1,4}}^{(2)_2}) = V(G^{(1)}) + 4 = 55 + 4 = 59
\end{gather*}

Вычеркнем из таблицы \ref{tab:9} строку $1$ и столбец $4$, при этом запретим переход $4 \rightarrow 1$. Найдем минимумы для каждого столбца и каждой строки.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:15}
	\begin{tabular}{|c||c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$& $5$ & $\min$ \\
		\hhline{|=#=|=|=|=|}
		$2$ & $2$ & $\infty$ & $16$ & $2$ \\
		\hline
		$4$ & $\infty$ & $0$ & $13$ & $0$ \\
		\hline
		$6$ & $0$ & $11$ & $0$ & $0$ \\
		\hhline{|=#=|=|=|=|}
		$\min$ & $0$ & $0$ & $0$ & \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Вычтем из первой строки минимальный элемент.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:16}
	\begin{tabular}{|c||c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$& $5$ & $\min$ \\
		\hhline{|=#=|=|=|=|}
		$2$ & $0$ & $\infty$ & $14$ & $2$ \\
		\hline
		$4$ & $\infty$ & $0$ & $13$ & $0$ \\
		\hline
		$6$ & $0$ & $11$ & $0$ & $0$ \\
		\hhline{|=#=|=|=|=|}
		$\min$ & $0$ & $0$ & $0$ & \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Сумма вычитаемых элементов равна $2$, следовательно:
\begin{equation*}
V(G_{2,4}^{(2)_2}) = V(G^{(1)}) + 2 = 57 < 59 = V(G_{\overline{6,5}}^{(2)_2}) \Rightarrow V(G^{(2)_2}) = 57
\end{equation*}

\textbf{5.2.} Заменим в таблице \ref{tab:16} нули на сумму минимального элемента строки и минимального элемента столбца, в которых находится ноль. При этом запретим путь $6 \rightarrow 5$.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:17}
	\begin{tabular}{|c||c|c|c|c|c|}
		\hline
		Из \textbackslash В & $1$ & $2$& $5$ \\
		\hhline{|=#=|=|=|=|}
		$2$ & \textcolor{red}{\boldmath$14$} & $-$ & $-$ \\
		\hline
		$4$ & $-$ & $11$ & $-$ \\
		\hline
		$6$ & $11$ & $-$ & $-$ \\
		\hline
	\end{tabular}
\end{center}
\end{table}

\begin{gather*}
\max = 14\ (2 \rightarrow 1) \\
G^{(3)_2} = G_{2,1}^{(3)_2} \cup G_{\overline{2,1}}^{(3)_2} \\
V(G_{\overline{2,1}}^{(3)_2}) = V(G^{(2)_2}) + 14 = 55 + 14 = 69
\end{gather*}

Вычеркнем из таблицы $2$ строку и $1$ столбец, при этом запретим путь $1 \rightarrow 2$. Найдем минимумы для каждого столбца и каждой строки.

\begin{table}[H]
\begin{center}
	\def\tabcolsep{15pt}
	\caption{Таблица переходов}
	\label{tab:transition}
	\begin{tabular}{|c||c|c|c|}
		\hline
		Из \textbackslash В & $2$& $5$ & $\min$ \\
		\hhline{|=#=|=|=|}
		$4$ & $0$ & $13$ & $0$ \\
		\hline
		$6$ & $11$ & $0$ & $0$ \\
		\hhline{|=#=|=|=|}
		$\min$ & $0$ & $0$ & \\ 
		\hline
	\end{tabular}
\end{center}
\end{table}

Сумма вычитаемых элементов равна $0$, следовательно:
\begin{equation*}
V(G_{2,1}^{(3)_2}) = V(G^{(2)_1}) + 0 = 55 < 69 = V(G_{\overline{2,1}}^{(3)_2}) \Rightarrow V(G^{(3)_2}) = 55
\end{equation*}

\textbf{6.2.} Запретим пути $4 \rightarrow 2$ и $6 \rightarrow 5$, тогда остается два не запрещенных пути: $4 \rightarrow 5$ и $6 \rightarrow 2$ общей стоимость $24$. Общая стоимость пути $79$. \\

\textbf{7.} Из двух полученных путей выберем путь наименьшей длины. Таким образом, оптимальным является первый путь, длина которого равна $71$.
%\begin{equation*}
%1 \xrightarrow{10} 4 \xrightarrow{7} 2 \xrightarrow{25} 5 \xrightarrow{7} 3 %\xrightarrow{10} 6 \xrightarrow{12} 1
%\end{equation*}

\begin{figure}[H]
\begin{center}
	\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=3cm,
	                    semithick]
	  \tikzstyle{every state}=[fill=white,draw=black,text=black]
	
	  \node[state] (1) {$1$};
	  \node[state] (4) [right of=1] {$4$};
	  \node[state] (2) [right of=4] {$2$};
	  \node[state] (5) [right of=2] {$5$};
	  \node[state] (3) [right of=5] {$3$};
	  \node[state] (6) [right of=3] {$6$};
	
	  \path (1) edge node {$10$} (4)
	  		(4) edge node {$7$} (2)
	  		(2) edge node {$25$} (5)
	  		(5) edge node {$7$} (3)
	  		(3) edge node {$10$} (6)
	  		(6) edge [bend right] node {$12$} (1);
	\end{tikzpicture}
	\caption{Оптимальный путь}
	\label{fig:transition_graph}
\end{center}
\end{figure}

\newpage

\begin{figure}[H]
\begin{center}
	\begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=3.5cm,
	                    semithick]
		\tikzstyle{every state}=[fill=white,draw=black,text=black]
		
		\node[state] (H) [draw=red] {$50$};
		\node[state] (G01) [draw=red, below left of=H] {$55$};
		\node[state] (G02) [below right of=H] {$57$};
		\node[state] (G11) [draw=red, below left of=G01] {$55$};
		\node[state] (G12) [below right of=G01] {$67$};
		\node[state] (G22) [below left of=G11] {$59$};
		\node[state] (G21) [draw=red, left of=G22] {$57$};
		\node[state] (G23) [below right of=G11] {$55$};
		\node[state] (G24) [right of=G23] {$57$};
		\node[state] (G31) [draw=red, below left of=G21] {$57$};
		\node[state] (G32) [below right of=G21] {$63$};
		\node[state] (G33) [below left of=G23] {$55$};
		\node[state] (G34) [below right of=G23] {$69$};
		\node[state] (G41) [draw=red, below of=G31] {$71$};
		\node[state] (G42) [below of=G33] {$68$};
		\node[state] (G51) [draw=red, below of=G41] {$71$};
		\node[state] (G52) [below of=G42] {$79$};
		
	
		\path 	(H)		edge [draw=red] node [swap] {$5 \rightarrow 3$} (G01)
						edge node {$5 \not\rightarrow 3$} (G02)
				(G01)	edge [draw=red] node [swap] {$3 \rightarrow 6$} (G11)
						edge node {$3 \not\rightarrow 6$} (G12)
				(G11) 	edge [draw=red, bend right] node [swap] {$4 \rightarrow 2$} (G21)
						edge node [swap] {$4 \not\rightarrow 4$} (G22)
						edge node [swap] {$1 \rightarrow 4$} (G23)
						edge [bend left] node [swap] {$1 \not\rightarrow 4$} (G24)
				(G21)	edge [draw=red] node [swap] {$1 \rightarrow 4$} (G31)
						edge node {$1 \not\rightarrow 4$} (G32)
				(G23)	edge node [swap] {$2 \rightarrow 1$} (G33)
						edge node {$2 \not\rightarrow 1$} (G34)
				(G31)	edge [draw=red] node {$2 \rightarrow 5$} (G41)
				(G33)	edge node {$4 \rightarrow 5$} (G42)
				(G41)	edge [draw=red] node {$6 \rightarrow 1$} (G51)
				(G42)	edge node {$6 \rightarrow 2$} (G52);
	\end{tikzpicture}
	\caption{Дерево переходов}
	\label{fig:tree}
\end{center}
\end{figure}

\end{document}